<div class="mat-elevation-z8 table-container">
  <table mat-table [dataSource]="dataSource" matSort>
    <caption></caption>
    <ng-container matColumnDef="flightNo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #flightNo id="flightNo"> Flight No </th>
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.flightNo }} </td>
    </ng-container>
    <ng-container matColumnDef="flightDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #flightDate id="flightDate"> Flight Date </th>
      <!-- date pipe added -->
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.flightZdate | date}} </td>
    </ng-container>
    <ng-container matColumnDef="legNo">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #legNo id="legNo"> Leg Number </th>
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.legNo }} </td>
    </ng-container>
    <ng-container matColumnDef="origin">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #origin id="origin"> Origin </th>
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.origin }} </td>
    </ng-container>
    <ng-container matColumnDef="destination">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #dest id="dest"> Destination </th>
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.destination }} </td>
    </ng-container>
    <ng-container matColumnDef="releaseNumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #relNo id="relNo"> Release Number </th>
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.releaseNumber }} </td>
    </ng-container>
    <ng-container matColumnDef="releaseTime">
      <th mat-header-cell *matHeaderCellDef mat-sort-header #relTime id="relTime"> Release Time </th>
      <!-- date pipe with formatting added -->
      <td mat-cell *matCellDef="let rowElement"> {{ rowElement.releaseTime | date : 'mediumTime' }} </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: tableColumns;"></tr>
  </table>
  <div *ngIf="!(!rfisTableDataLoading && rfisTableDataValid && dataSource.data.length==0); then thenTablePageBlock;"></div>
    <ng-template #thenTablePageBlock>
      <mat-paginator [pageSize]="rfrowPerPage[0]" [pageSizeOptions]="rfrowPerPage"></mat-paginator>
    </ng-template>
  <div class="tableinfo">
  <div *ngIf="rfisTableDataLoading; then thenLoadBlock;"></div>
    <ng-template #thenLoadBlock>Loading...<mat-progress-bar mode="buffer" color="accent"></mat-progress-bar></ng-template>
  <div *ngIf="!rfisTableDataValid && !rfisTableDataLoading; then thenTableValidBlock;"></div>
    <ng-template #thenTableValidBlock>
      <div class="table-info">Some Error Occured in loading data</div>
    </ng-template>
  <div *ngIf="!rfisTableDataLoading && rfisTableDataValid && dataSource.data.length==0; then thenTableInfoBlock;"></div>
    <ng-template #thenTableInfoBlock>
      <div class="table-info">
        No Data
      </div>
    </ng-template>
  </div>
</div>