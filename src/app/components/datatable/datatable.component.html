<div class="filters">
  <div class="table-head">
    <div class="table-head">Flight Reports</div>
  </div>
  <div class="filter">
    <mat-form-field>
      <mat-label>Flight No</mat-label>
      <input type="number" matInput [(ngModel)]="filterFlightNo" />
    </mat-form-field>
  </div>
  <div class="filter">
    <mat-form-field>
      <mat-label>Leg No</mat-label>
      <input type="number" matInput [(ngModel)]="filterLegNo" />
    </mat-form-field>
  </div>
  <div class="filter">
    <mat-form-field>
      <mat-label>Origin</mat-label>
      <input type="text" matInput #inputOrigin [value]="inputOrigin.value.toUpperCase()" [(ngModel)]="filterOrigin" placeholder="Ex. MAA" />
    </mat-form-field>
  </div>
  <div class="filter">
    <mat-form-field>
      <mat-label>Destination</mat-label>
      <input type="text" matInput #inputDest [value]="inputDest.value.toUpperCase()" [(ngModel)]="filterDestination" placeholder="Ex. PNY" />
    </mat-form-field>
  </div>
</div>

<div class="filters">
  <div class="filter">
    <mat-form-field appearance="legacy" color="accent">
      <mat-label>Start Date</mat-label>
      <input matInput [matDatepicker]="dpStartDate" [(ngModel)]="filterStartDate">
      <mat-datepicker-toggle matSuffix [for]="dpStartDate"></mat-datepicker-toggle>
      <mat-datepicker #dpStartDate disabled="false"></mat-datepicker>
    </mat-form-field>
  </div>
  <div class="filter">
    <mat-form-field appearance="legacy" color="accent">
      <mat-label>End Date</mat-label>
      <input matInput [matDatepicker]="dpEndDate" [(ngModel)]="filterEndDate">
      <mat-datepicker-toggle matSuffix [for]="dpEndDate"></mat-datepicker-toggle>
      <mat-datepicker #dpEndDate disabled="false"></mat-datepicker>
    </mat-form-field>
  </div>
  <div class="filter-btn">
    <button mat-raised-button color="warn" (click)="resetFilter()">Reset</button>
  </div>
  <div class="filter-btn">
      <button mat-raised-button color="accent" (click)="initTableData()">Apply</button>
  </div>
</div>
<mat-tab-group mat-align-tabs="start">
  <mat-tab label="Released">
    <div class="mat-elevation-z8 table-container">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="flightNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Flight No </th>
          <td mat-cell *matCellDef="let element"> {{ element.flightNo }} </td>
        </ng-container>
        <ng-container matColumnDef="flightDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Flight Date </th>
          <!-- date pipe added -->
          <td mat-cell *matCellDef="let element"> {{ element.flightZdate | date}} </td>
        </ng-container>
        <ng-container matColumnDef="legNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Leg Number </th>
          <td mat-cell *matCellDef="let element"> {{ element.legNo }} </td>
        </ng-container>
        <ng-container matColumnDef="origin">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Origin </th>
          <td mat-cell *matCellDef="let element"> {{ element.origin }} </td>
        </ng-container>
        <ng-container matColumnDef="destination">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Destination </th>
          <td mat-cell *matCellDef="let element"> {{ element.destination }} </td>
        </ng-container>
        <ng-container matColumnDef="releaseNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Release Number </th>
          <td mat-cell *matCellDef="let element"> {{ element.releaseNumber }} </td>
        </ng-container>
        <ng-container matColumnDef="releaseTime">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Release Time </th>
          <!-- date pipe with formatting added -->
          <td mat-cell *matCellDef="let element"> {{ element.releaseTime | date : 'mediumTime' }} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: tableColumns;"></tr>
      </table>
      <div *ngIf="!(!isTableDataLoading && isTableDataValid && dataSource.data.length==0); then thenTablePageBlock;"></div>
          <ng-template #thenTablePageBlock>
            <mat-paginator [pageSize]="rowPerPage[0]" [pageSizeOptions]="rowPerPage"></mat-paginator>
          </ng-template>
      <div class="tableinfo">
        <div *ngIf="isTableDataLoading; then thenLoadBlock;"></div>
          <ng-template #thenLoadBlock>Loading...<mat-progress-bar mode="buffer" color="accent"></mat-progress-bar></ng-template>
        <div *ngIf="!isTableDataValid && !isTableDataLoading; then thenTableValidBlock;"></div>
          <ng-template #thenTableValidBlock>
            <div class="table-info">Some Error Occured in loading flight data</div>
          </ng-template>
        <div *ngIf="!isTableDataLoading && isTableDataValid && dataSource.data.length==0; then thenTableInfoBlock;"></div>
          <ng-template #thenTableInfoBlock>
            <div class="table-info">
              No Data
            </div>
          </ng-template>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Scheduled">Scheduled Table </mat-tab>  
</mat-tab-group>